
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Spoofax language workbench">
      
      
      
        <meta name="author" content="Spoofax Team">
      
      
        <link rel="canonical" href="https://www.spoofax.dev/spoofax-docs/references/statix/rules/">
      
      <link rel="icon" href="../../../assets/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-7.1.4">
    
    
      
        <title>Rules - Spoofax</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.bde7dde4.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.ef6f36e2.min.css">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=:300,400,400i,700%7CJetBrains+Mono&display=fallback">
        <style>:root{--md-text-font-family:"";--md-code-font-family:"JetBrains Mono"}</style>
      
    
    
    
      <link rel="stylesheet" href="../../../assets/styles.css">
    
    
      
    
    

<!-- Determine title -->

<!-- prettier-ignore -->






<!-- Open graph meta tags -->
<meta property="og:type" content="website" />
<meta property="og:title" content="Spoofax - Rules" />
<meta property="og:description" content="Spoofax language workbench" />
<meta property="og:url" content="https://www.spoofax.dev/spoofax-docs/references/statix/rules/" />
<meta property="og:image" content="https://repository-images.githubusercontent.com/373448219/e8269200-d82a-11eb-93f9-8ffaee8d31f0" />
<meta property="og:image:type" content="image/png" />
<meta property="og:image:width" content="1080" />
<meta property="og:image:height" content="568" />


  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="spoofax" data-md-color-primary="" data-md-color-accent="">
  
    
    <script>function __prefix(e){return new URL("../../..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
    
      <script>var palette=__get("__palette");if(null!==palette&&"object"==typeof palette.color)for(var key in palette.color)document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#rules" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="Spoofax" class="md-header__button md-logo" aria-label="Spoofax" data-md-component="logo">
      
  <img src="../../../assets/logo.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Spoofax
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Rules
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="spoofax" data-md-color-primary="" data-md-color-accent="" type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3 3.19.09m3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95 2.06.05m-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31z"/></svg>
            </label>
          
        
          
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="" data-md-color-accent="" type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5c-.84 0-1.65.15-2.39.42L12 2M3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29L3.34 7m.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14L3.36 17M20.65 7l-1.77 3.79a7.023 7.023 0 0 0-2.38-4.15l4.15.36m-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29L20.64 17M12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44L12 22z"/></svg>
            </label>
          
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        
<a href="https://github.com/metaborg/spoofax/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    spoofax
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../.." class="md-tabs__link">
        Home
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../tutorials/" class="md-tabs__link">
        Tutorials
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../howtos/" class="md-tabs__link">
        How-Tos
      </a>
    </li>
  

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../" class="md-tabs__link md-tabs__link--active">
        References
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../background/" class="md-tabs__link">
        Background
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Spoofax" class="md-nav__button md-logo" aria-label="Spoofax" data-md-component="logo">
      
  <img src="../../../assets/logo.svg" alt="logo">

    </a>
    Spoofax
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/metaborg/spoofax/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    spoofax
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1" type="checkbox" id="__nav_1" >
      
      <label class="md-nav__link" for="__nav_1">
        Home
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Home" data-md-level="1">
        <label class="md-nav__title" for="__nav_1">
          <span class="md-nav__icon md-icon"></span>
          Home
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        Spoofax Language Designer's Workbench
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../getting-started/" class="md-nav__link">
        Getting started
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../stable/" class="md-nav__link">
        Stable Releases
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../nightly/" class="md-nav__link">
        Nightly Releases
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" >
      
      <label class="md-nav__link" for="__nav_2">
        Tutorials
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Tutorials" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Tutorials
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../tutorials/" class="md-nav__link">
        Tutorials
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      <label class="md-nav__link" for="__nav_3">
        How-Tos
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="How-Tos" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          How-Tos
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../howtos/" class="md-nav__link">
        How-To's
      </a>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_2" type="checkbox" id="__nav_3_2" >
      
      <label class="md-nav__link" for="__nav_3_2">
        Installation
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Installation" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_2">
          <span class="md-nav__icon md-icon"></span>
          Installation
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../howtos/install-eclipse-bundle/" class="md-nav__link">
        Install the Eclipse with Spoofax Plugin Bundle
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../howtos/install-eclipse-plugin-manually/" class="md-nav__link">
        Install the Spoofax Eclipse Plugin Manually
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../howtos/install-from-source/" class="md-nav__link">
        Install Spoofax from Source
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_3" type="checkbox" id="__nav_3_3" >
      
      <label class="md-nav__link" for="__nav_3_3">
        Transformation
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Transformation" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_3">
          <span class="md-nav__icon md-icon"></span>
          Transformation
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../howtos/stratego/run-stratego-programs/" class="md-nav__link">
        How to Run Stratego Programs
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../howtos/stratego/exchange-terms/" class="md-nav__link">
        How to Exchange Terms
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../howtos/stratego/inspect-terms/" class="md-nav__link">
        How To Inspect Terms
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../howtos/stratego/debug-stratego/" class="md-nav__link">
        How to Debug Stratego Programs
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_4" type="checkbox" id="__nav_3_4" >
      
      <label class="md-nav__link" for="__nav_3_4">
        Editor Services
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Editor Services" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_4">
          <span class="md-nav__icon md-icon"></span>
          Editor Services
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../howtos/editor-services/rename-refactoring/" class="md-nav__link">
        Add Rename Refactoring to an Existing Project
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" checked>
      
      <label class="md-nav__link" for="__nav_4">
        References
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="References" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          References
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../" class="md-nav__link">
        References
      </a>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_2" type="checkbox" id="__nav_4_2" >
      
      <label class="md-nav__link" for="__nav_4_2">
        Configuration
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Configuration" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_2">
          <span class="md-nav__icon md-icon"></span>
          Configuration
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../config/" class="md-nav__link">
        Language Configuration
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_3" type="checkbox" id="__nav_4_3" >
      
      <label class="md-nav__link" for="__nav_4_3">
        Syntax
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Syntax" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_3">
          <span class="md-nav__icon md-icon"></span>
          Syntax
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../syntax/" class="md-nav__link">
        SDF3
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../syntax/modules/" class="md-nav__link">
        Modules
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../syntax/symbols/" class="md-nav__link">
        Symbols
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../syntax/productions/" class="md-nav__link">
        Productions
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../syntax/lexical-syntax/" class="md-nav__link">
        Lexical Syntax
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../syntax/context-free-syntax/" class="md-nav__link">
        Context-Free Syntax
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../syntax/kernel-syntax/" class="md-nav__link">
        Kernel Syntax
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../syntax/start-symbols/" class="md-nav__link">
        Start Symbols
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../syntax/templates/" class="md-nav__link">
        Templates
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../syntax/disambiguation/" class="md-nav__link">
        Disambiguation
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../syntax/layout-sensitivity/" class="md-nav__link">
        Layout Sensitivity
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../syntax/recovery/" class="md-nav__link">
        Recovery
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../syntax/configuration/" class="md-nav__link">
        Configuration
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_4" type="checkbox" id="__nav_4_4" checked>
      
      <label class="md-nav__link" for="__nav_4_4">
        Static Semantics
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Static Semantics" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_4">
          <span class="md-nav__icon md-icon"></span>
          Static Semantics
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../" class="md-nav__link">
        Statix
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../concepts/" class="md-nav__link">
        Language Concepts
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../modules/" class="md-nav__link">
        Modules
      </a>
    </li>
  

          
            
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Rules
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Rules
      </a>
      
        
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#constraint-definitions" class="md-nav__link">
    Constraint Definitions
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rule-definitions" class="md-nav__link">
    Rule Definitions
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#axiom-rules" class="md-nav__link">
    Axiom rules
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#functional-rules" class="md-nav__link">
    Functional Rules
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mapping-rules" class="md-nav__link">
    Mapping rules
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#injections-of-namespaces-and-relations" class="md-nav__link">
    Injections of Namespaces and Relations
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../terms/" class="md-nav__link">
        Terms
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../types/" class="md-nav__link">
        Types
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../basic-constraints/" class="md-nav__link">
        Basic Constraints
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../scope-graphs/" class="md-nav__link">
        Scope Graph Constraints
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../queries/" class="md-nav__link">
        Queries
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../tests/" class="md-nav__link">
        Tests
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../stratego-api/" class="md-nav__link">
        Stratego API
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_5" type="checkbox" id="__nav_4_5" >
      
      <label class="md-nav__link" for="__nav_4_5">
        Data Flow Analysis
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Data Flow Analysis" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_5">
          <span class="md-nav__icon md-icon"></span>
          Data Flow Analysis
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../flowspec/introduction/" class="md-nav__link">
        Introduction
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../flowspec/structure/" class="md-nav__link">
        Structure
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../flowspec/Stratego_API/" class="md-nav__link">
        Stratego API
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../flowspec/testing/" class="md-nav__link">
        Testing
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../flowspec/glossary/" class="md-nav__link">
        Glossary
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../flowspec/references/" class="md-nav__link">
        References
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_6" type="checkbox" id="__nav_4_6" >
      
      <label class="md-nav__link" for="__nav_4_6">
        Transformation
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Transformation" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_6">
          <span class="md-nav__icon md-icon"></span>
          Transformation
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../stratego/" class="md-nav__link">
        Stratego
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../stratego/lexical/" class="md-nav__link">
        Lexical Conventions
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../stratego/modules/" class="md-nav__link">
        Modules
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../stratego/terms/" class="md-nav__link">
        Terms
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../stratego/types/" class="md-nav__link">
        Types
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../stratego/patterns/" class="md-nav__link">
        Patterns
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../stratego/rewrite-rules/" class="md-nav__link">
        Rewrite Rules
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../stratego/strategies/" class="md-nav__link">
        Strategy Definitions
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../stratego/strategy-combinators/" class="md-nav__link">
        Strategy Combinators
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../stratego/strategy-combinators-match-build/" class="md-nav__link">
        Matching and Building Terms
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../stratego/strategy-combinators-traversal/" class="md-nav__link">
        Traversal Combinators
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../stratego/strategy-combinators-type-unifying/" class="md-nav__link">
        Type Unifying Transformations
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../stratego/dynamic-rules/" class="md-nav__link">
        Dynamic Rewrite Rules
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../stratego/concrete-syntax/" class="md-nav__link">
        Concrete Syntax
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../stratego/overlays/" class="md-nav__link">
        Overlays
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_7" type="checkbox" id="__nav_4_7" >
      
      <label class="md-nav__link" for="__nav_4_7">
        Testing
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Testing" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_7">
          <span class="md-nav__icon md-icon"></span>
          Testing
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../testing/" class="md-nav__link">
        SPT: Spoofax Testing Language
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_8" type="checkbox" id="__nav_4_8" >
      
      <label class="md-nav__link" for="__nav_4_8">
        Editor Services
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Editor Services" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_8">
          <span class="md-nav__icon md-icon"></span>
          Editor Services
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../editor-services/" class="md-nav__link">
        Editor Services
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../editor-services/esv/" class="md-nav__link">
        ESV
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../editor-services/analysis/" class="md-nav__link">
        Analysis
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../editor-services/file-extensions/" class="md-nav__link">
        Language File Extensions
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../editor-services/hover/" class="md-nav__link">
        Hover Tooltips
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../editor-services/menus/" class="md-nav__link">
        Action Menus
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../editor-services/on-save/" class="md-nav__link">
        On-Save Handlers
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../editor-services/outline/" class="md-nav__link">
        Outline View
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../editor-services/parsing/" class="md-nav__link">
        Parsing
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../editor-services/reference-resolution/" class="md-nav__link">
        Reference Resolution
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../editor-services/renaming/" class="md-nav__link">
        Rename Refactoring
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../editor-services/stratego/" class="md-nav__link">
        Stratego
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../editor-services/syntax-highlighting/" class="md-nav__link">
        Syntax Highlighting
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_9" type="checkbox" id="__nav_4_9" >
      
      <label class="md-nav__link" for="__nav_4_9">
        Pipelines
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Pipelines" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_9">
          <span class="md-nav__icon md-icon"></span>
          Pipelines
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../pipelines/" class="md-nav__link">
        Pipelines for Interactive Environments
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../pipelines/modules/" class="md-nav__link">
        Module system
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../pipelines/types/" class="md-nav__link">
        Types
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../pipelines/generics/" class="md-nav__link">
        Generics
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../pipelines/functions/" class="md-nav__link">
        Functions
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../pipelines/expressions/" class="md-nav__link">
        Expressions
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      <label class="md-nav__link" for="__nav_5">
        Background
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Background" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Background
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../background/" class="md-nav__link">
        Background
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../background/documentation/" class="md-nav__link">
        Documentation
      </a>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_3" type="checkbox" id="__nav_5_3" >
      
      <label class="md-nav__link" for="__nav_5_3">
        Static Semantics
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Static Semantics" data-md-level="2">
        <label class="md-nav__title" for="__nav_5_3">
          <span class="md-nav__icon md-icon"></span>
          Static Semantics
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../background/statix/" class="md-nav__link">
        Statix Background
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_4" type="checkbox" id="__nav_5_4" >
      
      <label class="md-nav__link" for="__nav_5_4">
        Bibliography
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Bibliography" data-md-level="2">
        <label class="md-nav__title" for="__nav_5_4">
          <span class="md-nav__icon md-icon"></span>
          Bibliography
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../background/bibliography/stratego/" class="md-nav__link">
        A Stratego Bibliography
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#constraint-definitions" class="md-nav__link">
    Constraint Definitions
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rule-definitions" class="md-nav__link">
    Rule Definitions
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#axiom-rules" class="md-nav__link">
    Axiom rules
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#functional-rules" class="md-nav__link">
    Functional Rules
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mapping-rules" class="md-nav__link">
    Mapping rules
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#injections-of-namespaces-and-relations" class="md-nav__link">
    Injections of Namespaces and Relations
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/metaborg/spoofax-docs/edit/main/docs/references/statix/rules.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                <h1 id="rules">Rules<a class="headerlink" href="#rules" title="Permanent link">&para;</a></h1>
<p>User-defined constraints and their rules make up the main part of a Statix specification.
In this section, we describe the definition and usage of user-defined constraints
and their rules.</p>
<h2 id="constraint-definitions">Constraint Definitions<a class="headerlink" href="#constraint-definitions" title="Permanent link">&para;</a></h2>
<p>In order to define a custom constraint, its type must be declared first. A
constraint can be declared in a <code>rules</code> section, or in a <code>constraints</code> subsection
of a <code>signature</code> section.</p>
<p>A constraint is declared by specifying its name and argument type. For more
information on types, please refer to the <a href="../types">Types</a> section. Note that
the name of the constraint must be unique within a specification.</p>
<div class="highlight"><pre><span></span><code>$<span class="nv">ConstraintName</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span>$<span class="nv">Type</span><span class="w"> </span><span class="s">&quot;*&quot;</span><span class="p">}</span>*<span class="w"></span>
</code></pre></div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In this reference manual, we consistently use the term 'constraint declaration'
for the introduction of new user-defined constraints. However, in practise,
these are sometimes also referred to as 'predicate' or just simply 'constraint'.</p>
</div>
<p>When a constraint declaration is provided this way, it can be used as a constraint
by providing concrete arguments, separated by comma's.</p>
<div class="highlight"><pre><span></span><code>$<span class="nv">ConstraintName</span><span class="p">({</span>$<span class="nv">Term</span><span class="w"> </span><span class="s">&quot;,&quot;</span><span class="p">}</span>*<span class="p">)</span><span class="w"></span>
</code></pre></div>
<p>The sorts of the argument terms should be equal to the sorts in the constraint
declaration.</p>
<h2 id="rule-definitions">Rule Definitions<a class="headerlink" href="#rule-definitions" title="Permanent link">&para;</a></h2>
<p>When solving a user-defined constraint, a rule for that constraint is unfolded
in order to infer a model satisfying the constraint.</p>
<div class="highlight"><pre><span></span><code>[$<span class="nv">RuleName</span>]$<span class="nv">ConstraintName</span><span class="p">({</span>$<span class="nv">Pattern</span><span class="w"> </span><span class="s">&quot;,&quot;</span><span class="p">}</span>*<span class="p">)</span><span class="w"> </span><span class="p">:</span><span class="nv">-</span><span class="w"> </span>$<span class="nv">Constraint</span><span class="p">.</span><span class="w"></span>
</code></pre></div>
<p>The part <em>before</em> the turnstile (<code>:-</code>) is often referred to as the <em>head</em> of the
rule, while the <code>$Constraint</code> after the turnstile is denoted as <em>body</em>. When
applying a rule, each head pattern (which is just a term) will be matched with
its corresponding actual argument.</p>
<p>Statically, the sorts of the terms in <code>$Patterns</code> are type-checked based on the
constraint declaration. Any variables in patterns are implicitly introduced in
the scope of the rule. Patterns can be non-linear. That is, a variable may occur
multiple times in a pattern. Operationally, the subterms at these positions are
then required to be structurally equal.</p>
<p>Note that multiple rules for a single constraint can, and often will, be provided.
For each constraint, the rule that is used for simplification is determined by
the <em>guard</em> of the rule. This guard is derived from the head pattern: a rule
can only be applied when the constraint arguments match the patterns.</p>
<p>During constraint solving, Statix will try at most one rule for each constraint.
The appropriate rule is selected by applying the following heuristics in order:
1. Rules with a smaller domain are preferred over rules with a larger domain.
2. When pairwise comparing rules, the rule for which, in left-to-right order, a
   more specific pattern is encountered first is preferred over the other.
For all cases where these heuristics do not decide which rule to use for a
constraint, compile time "Overlapping patterns" errors will be emitted.</p>
<p>The <code>$RuleName</code> is just a name that can be used for documentation purposes.
It cannot be referenced from any position in the specification, and may be
omitted altogether.</p>
<h2 id="axiom-rules">Axiom rules<a class="headerlink" href="#axiom-rules" title="Permanent link">&para;</a></h2>
<p>In some cases, a constraint trivially holds for particular inputs. For such
constraints, an <em>axiom rule</em> can be specified.</p>
<div class="highlight"><pre><span></span><code>[$<span class="nv">RuleName</span>]$<span class="nv">ConstraintName</span><span class="p">({</span>$<span class="nv">Pattern</span><span class="w"> </span><span class="s">&quot;,&quot;</span><span class="p">}</span>*<span class="p">).</span><span class="w"></span>
</code></pre></div>
<p>This rule is similar to a regular rule, but lacks a body. When applying such a
rule, no new constraints are introduced, reflecting the fact that the constraint
trivially holds for these arguments.</p>
<h2 id="functional-rules">Functional Rules<a class="headerlink" href="#functional-rules" title="Permanent link">&para;</a></h2>
<p>Some user-defined constraints can be thought of more naturally as a function:
a constraint where a particular term is inferred by the constraint, rather than
validated. Statix allows to write constraints in a functional idiom as follows:</p>
<p>First, a constraint declaration for such 'functional constraints' must be provided
as follows:</p>
<div class="highlight"><pre><span></span><code>$<span class="nv">ConstraintName</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span>$<span class="nv">Type</span><span class="w"> </span><span class="s">&quot;*&quot;</span><span class="p">}</span>*<span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span>$<span class="nv">Type</span><span class="w"></span>
</code></pre></div>
<p>In addition to the regular list of input sorts, a sort for the output term is
provided to the constraint declaration.</p>
<p>Rule definitions for a functional constraint look as follows:</p>
<div class="highlight"><pre><span></span><code>[$<span class="nv">RuleName</span>]$<span class="nv">ConstraintName</span><span class="p">({</span>$<span class="nv">Pattern</span><span class="w"> </span><span class="s">&quot;,&quot;</span><span class="p">}</span>*<span class="p">)</span><span class="w"> </span>=<span class="w"> </span>$<span class="nv">Term</span><span class="w"> </span><span class="p">:</span><span class="nv">-</span><span class="w"> </span>$<span class="nv">Constraint</span><span class="p">.</span><span class="w"></span>
</code></pre></div>
<p>Compared to predicative rule definitions as introduced earlier in this section,
an additional term after an equality-sign is appended to the rule head. This
term denotes the output term (the term inferred by the rule).</p>
<p>A functional constraint can be used in a <a href="../terms"><em>term</em></a> position, as opposed
to a <a href="../basic-constraints"><em>constraint</em></a> position for predicative rules.
Otherwise, their syntax is the same.</p>
<div class="highlight"><pre><span></span><code>$<span class="nv">ConstraintName</span><span class="p">({</span>$<span class="nv">Term</span><span class="w"> </span><span class="s">&quot;,&quot;</span><span class="p">}</span>*<span class="p">)</span><span class="w"></span>
</code></pre></div>
<p>Semantically, the output term of applying the constraint is substituted at the
position of the application of the functional predicate.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When we want to make the distinction between these two forms of constraints
explicit, we usually refer to either groups with 'predicative constraint
declarations' and 'predicative constraints', versus 'functional constraint
declarations' and 'functional constraints', respectively.</p>
</div>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>Every specification with functional predicates is normalized to a form with
only regular predicates. To show the normal form of a specification in
Eclipse, use the <code>Spoofax &gt; Syntax &gt; Format normalized AST</code> menu action.</p>
</div>
<h2 id="mapping-rules">Mapping rules<a class="headerlink" href="#mapping-rules" title="Permanent link">&para;</a></h2>
<p>Another common pattern in Statix is defining a predicate that instantiates a
predicate for all elements in a list. Statix allows derive such mapping rules
using the <code>maps</code> keyword as follows:</p>
<div class="highlight"><pre><span></span><code>$<span class="nv">MappingConstraintName</span><span class="w"> </span><span class="k">maps</span><span class="w"> </span>$<span class="nv">MappedConstraintName</span><span class="p">({</span>$<span class="nv">Lift</span><span class="w"> </span><span class="s">&quot;,&quot;</span><span class="p">})</span><span class="w"></span>
</code></pre></div>
<p>A lift specifier (<code>$Lift</code>) can be one of the following:</p>
<ul>
<li><code>*</code>: The <em>identity lift</em>. This lift specifier indicates that this argument is
  passed to the mapped constraint unchanged.</li>
<li><code>list(*)</code>: The <em>list lift</em>: This lift specifier indicates that the mapped
  constraint will be instantiated for each element in the list at that argument
  position. Each constraint defined with <code>maps</code>, must contain at least one list
  lift. Otherwise, the mapping would be a no-op.</li>
<li><code>({$Lift ","}+)</code>: The <em>tuple lift</em>: This lift specifier indicates that arguments
  are extracted from a tuple. For each tuple argument, a corresponding lifting
  is applied afterwards.</li>
</ul>
<p>The type of <code>$MappingConstraintName</code> is inferred by inverse application of the
lift specifiers to the type of <code>$MappedConstraintName</code>. Therefore, no explicit
declaration of the type of the mapping constraint is required.</p>
<p>Similar to predicative constraints, functional mapping constraints can be derived:</p>
<div class="highlight"><pre><span></span><code>$<span class="nv">MappingConstraintName</span><span class="w"> </span><span class="k">maps</span><span class="w"> </span>$<span class="nv">MappedConstraintName</span><span class="p">({</span>$<span class="nv">Lift</span><span class="w"> </span><span class="s">&quot;,&quot;</span><span class="p">})</span><span class="w"> </span>=<span class="w"> </span>$<span class="nv">Lift</span><span class="w"></span>
</code></pre></div>
<p>In addition to lift specifiers of the input arguments, a lift specifier for the
inferred term must be provided as well. This lift specifier indicates how the
inferred terms from the mapped constraints are aggregated and returned by the
mapping constraint.</p>
<p><em>Example.</em> A common example where mapping rules are used is when type-checking a
list of declarations. A specification snippet for that could look as follows:</p>
<div class="highlight"><pre><span></span><code><span class="k">rules</span><span class="w"></span>

<span class="w">  </span><span class="nv">declOk</span><span class="p">:</span><span class="w"> </span><span class="k">scope</span><span class="w"> </span>*<span class="w"> </span><span class="nv">Decl</span><span class="w"></span>
<span class="w">  </span><span class="nv">declsOk</span><span class="w"> </span><span class="k">maps</span><span class="w"> </span><span class="nv">declOk</span><span class="p">(</span>*<span class="p">,</span><span class="w"> </span><span class="k">list</span><span class="p">(</span>*<span class="p">))</span><span class="w"></span>

<span class="w">  </span><span class="c c-Singleline">// rules for declOk</span><span class="w"></span>
</code></pre></div>
<p>In this snippet, the <code>declsOk</code> constraint instantiates <code>declOk</code> for each
declaration in a list of declaration. Its inferred type is <code>scope * list(Decl)</code>.</p>
<p>When mapping functional constraints, a lift specifier for the inferred term
must be provided as well. This lift specifier indicates how the inferred values
of the mapped constraint are returned by the mapping constraint.</p>
<p>When using multiple list lifts in the input, the resulting constraint will zip
the arguments. This implicitly requires the input lists to be of equal length.
The creation of a cartesian product can be achieved by repeated application of
the <code>maps</code> construct for each argument.</p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>Similar to functional constraints, constraints derived using the <code>maps</code>
construct are normalized to regular predicative constraints. This normalization
can be inspected using the <code>Spoofax &gt; Syntax &gt; Format normalized AST</code> menu action.</p>
</div>
<h2 id="injections-of-namespaces-and-relations">Injections of Namespaces and Relations<a class="headerlink" href="#injections-of-namespaces-and-relations" title="Permanent link">&para;</a></h2>
<p>For convenience, it is possible to declare namespaces, namespace queries (both
deprecated) and relations in a <code>rules</code> section as well.</p>
<div class="highlight"><pre><span></span><code><span class="k">rules</span><span class="w"></span>

<span class="w">  </span><span class="k">namespace</span><span class="w"> </span><span class="nv">Var</span><span class="p">:</span><span class="w"> </span><span class="k">string</span><span class="w"></span>
<span class="w">  </span><span class="k">resolve</span><span class="w"> </span><span class="nv">Var</span><span class="w"></span>
<span class="w">    </span><span class="k">filter</span><span class="w"> </span><span class="nv">P</span>*<span class="w"> </span><span class="nv">I</span>*<span class="w"></span>

<span class="w">  </span><span class="nv">relation</span><span class="w"> </span><span class="nv">var</span><span class="p">:</span><span class="w"> </span><span class="k">string</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nv">TYPE</span><span class="w"></span>
</code></pre></div>
                
              
              
                


              
            </article>
          </div>
        </div>
        
          <a href="#" class="md-top md-icon" title="Back to top" data-md-component="top" data-md-state="hidden">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"/></svg>
          </a>
        
      </main>
      
        
<footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        <a href="../modules/" class="md-footer__link md-footer__link--prev" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Modules
            </div>
          </div>
        </a>
      
      
        <a href="../terms/" class="md-footer__link md-footer__link--next" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Terms
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2010-2021 Spoofax Team
          </div>
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
        
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.instant", "navigation.tabs", "navigation.tabs.sticky", "navigation.top", "navigation.indexes"], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}, "search": "../../../assets/javascripts/workers/search.4fa0e4ee.min.js", "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.1d3bfcf1.min.js"></script>
      
    
  </body>
</html>